(function(){"use strict";var t={3874:function(t,s,e){var i=e(6369),o=function(){var t=this,s=t._self._c;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},a=[],n=e(1001),r={},l=(0,n.Z)(r,o,a,!1,null,null,null),u=l.exports,c=e(2631),d=function(){var t=this,s=t._self._c;return s("div",{staticClass:"app"},[!1===t.isUsersLoading?s("UsersList",{attrs:{users:t.users}}):t._e(),!0===t.isUsersLoading?s("Spinner"):t._e()],1)},p=[],m=e(3822),h=function(){var t=this,s=t._self._c;return s("div",[s("svg",{staticClass:"loader",attrs:{viewBox:"0 0 24 24"}},[s("circle",{staticClass:"loader__value",attrs:{cx:"12",cy:"12",r:"10"}}),s("circle",{staticClass:"loader__value",attrs:{cx:"12",cy:"12",r:"10"}}),s("circle",{staticClass:"loader__value",attrs:{cx:"12",cy:"12",r:"10"}}),s("circle",{staticClass:"loader__value",attrs:{cx:"12",cy:"12",r:"10"}}),s("circle",{staticClass:"loader__value",attrs:{cx:"12",cy:"12",r:"10"}}),s("circle",{staticClass:"loader__value",attrs:{cx:"12",cy:"12",r:"10"}})])])},f=[],v={name:"Spinner"},b=v,g=(0,n.Z)(b,h,f,!1,null,null,null),_=g.exports,y=function(){var t=this,s=t._self._c;return s("div",{staticClass:"wrapper-list"},t._l(t.users,(function(t){return s("div",{key:t.id,staticClass:"card-users"},[s("UsersItem",{attrs:{user:t}})],1)})),0)},C=[],x=function(){var t=this,s=t._self._c;return s("div",{staticClass:"flex-list"},[s("div",{staticClass:"users-list",on:{click:function(s){return t.$router.push(`/users/${t.user.id}`)}}},[s("div",{staticClass:"flex"},[s("img",{staticStyle:{width:"70px"},attrs:{src:e(6802),alt:"image"}}),s("p",[t._v(t._s(t.user.name))])])])])},P=[],w={props:{user:{type:Object}}},U=w,L=(0,n.Z)(U,x,P,!1,null,null,null),E=L.exports,I={props:{users:{type:Array,required:!0}},components:{UsersItem:E}},k=I,Z=(0,n.Z)(k,y,C,!1,null,null,null),$=Z.exports,O={name:"HomeView",methods:{...(0,m.nv)({fetchUsers:"user/fetchUsers"})},computed:{...(0,m.rn)({users:t=>t.user.users,isUsersLoading:t=>t.user.isUsersLoading})},mounted(){this.fetchUsers()},components:{UsersList:$,Spinner:_,UsersList:$}},V=O,j=(0,n.Z)(V,d,p,!1,null,null,null),A=j.exports,M=function(){var t=this,s=t._self._c;return s("div",{staticClass:"app"},[s("User")],1)},S=[],B=function(){var t=this,s=t._self._c;return t.user?s("div",[s("div",{staticClass:"flex container"},[s("div",{staticClass:"profile"},[t._m(0),s("h2",[t._v(" "+t._s(t.user.name)+" ")]),s("div",{staticClass:"flex fb"},[s("button",{staticClass:"button",on:{click:function(s){return t.$router.push(`/users/${t.user.id}/posts`)}}},[t._v(" Список постов ")]),s("button",{staticClass:"button",on:{click:function(s){return t.$router.push(`/users/${t.user.id}/albums`)}}},[t._v(" Список альбомов ")])])])])]):t._e()},T=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"image"},[s("img",{attrs:{src:e(6802),alt:"avatar"}})])}],z={methods:{...(0,m.nv)({fetchUsers:"user/fetchUsers"})},computed:{...(0,m.rn)({users:t=>t.user.users})},mounted(){this.fetchUsers()},created(){const t=this.users.find((t=>t.id==this.$route.params.id));t&&(this.user=t)}},N=z,R=(0,n.Z)(N,B,T,!1,null,null,null),q=R.exports,D={components:{User:q}},F=D,H=(0,n.Z)(F,M,S,!1,null,null,null),G=H.exports,J=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"flex-posts",class:{blur:t.modalVisible}},[s("div",{staticClass:"modal-button"},[s("AddButton")],1),t._l(t.posts,(function(i,o){return s("div",{key:o},[i.userId===t.user.id?s("div",{staticClass:"blog-post"},[s("div",{staticClass:"container-copy"},[s("div",{staticClass:"icons"},[s("img",{staticClass:"svg",attrs:{src:e(9916),alt:"trash"},on:{click:function(s){return t.deletePost(i.id)}}}),s("Edit",{attrs:{isEdit:t.isEdit}})],1),!1===t.isEdit?s("div",[s("h2",[t._v(t._s(i.title))]),s("p",[t._v(" "+t._s(i.body)+" ")])]):s("div",[s("input",{staticClass:"input is-mobile-input",attrs:{type:"text",placeholder:"Title"},domProps:{value:i.title},on:{input:function(t){i.title=t.target.value}}}),s("textarea",{staticClass:"textarea is-mobile-input",staticStyle:{resize:"vertical"},attrs:{placeholder:"Body",type:"text"},domProps:{value:i.body},on:{input:function(t){i.body=t.target.value}}})]),s("button",{directives:[{name:"show",rawName:"v-show",value:!0===t.isEdit,expression:"isEdit === true"}],staticClass:"button",on:{click:function(s){return t.update(i)}}},[t._v(" Изменить ")])])]):t._e()])}))],2),s("Modal",{attrs:{user:t.user}})],1)},K=[],Q=function(){var t=this,s=t._self._c;return s("div",[s("button",{staticClass:"button_plus",on:{click:t.showModal}})])},W=[],X={methods:{...(0,m.OI)({show:"post/showModal"}),showModal(){this.show()}},computed:{...(0,m.rn)({modalVisible:t=>t.post.modalVisible})}},Y=X,tt=(0,n.Z)(Y,Q,W,!1,null,null,null),st=tt.exports,et=function(){var t=this,s=t._self._c;return t.modalVisible?s("div",[s("div",{staticClass:"container",on:{click:function(s){return s.stopPropagation(),t.hideModal.apply(null,arguments)}}},[s("div",{staticClass:"content",on:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"flex-modal"},[s("h2",[t._v("Создать пост")]),s("button",{staticClass:"close",on:{click:t.hideModal}},[t._v("✖")])]),s("input",{staticClass:"input",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.post.title},on:{input:function(s){t.post.title=s.target.value}}}),s("textarea",{staticClass:"input",staticStyle:{resize:"vertical"},attrs:{placeholder:"Body",type:"text"},domProps:{value:t.post.body},on:{input:function(s){t.post.body=s.target.value}}}),t._v(" "),s("button",{staticClass:"button",on:{click:t.submitted}},[t._v("Создать")])])])]):t._e()},it=[],ot={props:{user:{type:Object}},data(){return{post:{id:Date.now(),title:"",body:"",userId:Number(this.user.id)}}},methods:{...(0,m.OI)({hideModal:"post/hideModal"}),...(0,m.nv)({createPost:"post/createPost"}),submitted(){this.createPost(this.post),console.log(this.post),this.post.body="",this.post.title="",this.hideModal()}},computed:{...(0,m.rn)({modalVisible:t=>t.post.modalVisible,posts:t=>t.post.posts})}},at=ot,nt=(0,n.Z)(at,et,it,!1,null,null,null),rt=nt.exports,lt=function(){var t=this,s=t._self._c;return s("div",[!0===t.isEdit?s("div",{on:{click:t.hide}},[s("img",{staticClass:"svg",attrs:{src:e(5860),alt:"Edit"}})]):t._e(),!1===t.isEdit?s("div",{on:{click:t.show}},[s("img",{staticClass:"svg",attrs:{src:e(8044),alt:"Edit"}})]):t._e()])},ut=[],ct={props:{isEdit:{type:Boolean}},methods:{...(0,m.OI)({show:"post/showEdit",hide:"post/hideEdit"})},computed:{...(0,m.rn)({modalEditVisible:t=>t.post.modalEditVisible})}},dt=ct,pt=(0,n.Z)(dt,lt,ut,!1,null,null,null),mt=pt.exports,ht={data(){return{post:null}},methods:{...(0,m.nv)({fetchPosts:"post/fetchPosts",fetchUsers:"user/fetchUsers",deletePost:"post/deletePost",updatePost:"post/updatePost"}),...(0,m.OI)({hide:"post/hideEdit"}),update(t){this.updatePost(t),this.hide()}},computed:{...(0,m.rn)({posts:t=>t.post.posts,users:t=>t.user.users,modalVisible:t=>t.post.modalVisible,isEdit:t=>t.post.isEdit})},mounted(){this.fetchPosts(),this.fetchUsers()},created(){const t=this.users.find((t=>t.albumId=this.$route.params.id));t&&(this.user=t)},components:{AddButton:st,Modal:rt,Edit:mt}},ft=ht,vt=(0,n.Z)(ft,J,K,!1,null,null,null),bt=vt.exports,gt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"flex-albums"},t._l(t.albums,(function(e){return s("div",{key:e.id},[e.userId===t.user.id?s("div",{staticClass:"wrapper-albums flex",on:{click:function(s){return t.$router.push(`/users/${t.user.id}/albums/${e.id}`)}}},[s("div",[s("h2",[t._v(t._s(e.title))])])]):t._e()])})),0)},_t=[],yt={methods:{...(0,m.nv)({fetchAlbums:"album/fetchAlbums",fetchUsers:"user/fetchUsers"})},computed:{...(0,m.rn)({albums:t=>t.album.albums,users:t=>t.user.users})},mounted(){this.fetchAlbums(),this.fetchUsers()},created(){const t=this.users.find((t=>t.albumId=this.$route.params.id));t&&(this.user=t)}},Ct=yt,xt=(0,n.Z)(Ct,gt,_t,!1,null,null,null),Pt=xt.exports,wt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"carousel-center"},[s("carousel",{staticClass:"carousel",attrs:{"per-page":1,"pagination-enabled":!0,"mouse-drag":!0}},t._l(t.images,(function(t){return s("slide",{key:t.id},[s("div",[s("img",{staticClass:"img",attrs:{src:t.thumbnailUrl,alt:t.id}})])])})),1)],1)},Ut=[],Lt=e(3412),Et=e.n(Lt),It={methods:{...(0,m.nv)({fetchAlbums:"album/fetchAlbums",fetchImages:"image/fetchImages"})},computed:{...(0,m.rn)({images:t=>t.image.images,albums:t=>t.album.albums})},mounted(){this.fetchImages(this.$route.params.id,5),this.fetchAlbums()},created(){const t=this.images.find((t=>t.albumId==this.$route.params.id));t&&(this.image=t)},components:{Carousel:Lt.Carousel,Slide:Lt.Slide}},kt=It,Zt=(0,n.Z)(kt,wt,Ut,!1,null,null,null),$t=Zt.exports;i.ZP.use(c.Z);const Ot=[{path:"/",name:"home",component:A},{path:"/users/:id",component:G},{path:"/users/:id/posts",component:bt},{path:"/users/:id/albums",component:Pt},{path:"/users/:id/albums/:id",component:$t}],Vt=new c.Z({mode:"history",base:"/UserList-Vue-2-Rest/",routes:Ot});var jt=Vt,At=e(6265),Mt=e.n(At),St={state:()=>({users:[],isUsersLoading:!1}),getters:{},mutations:{setUsers(t,s){t.users=s},setLoading(t,s){t.isUsersLoading=s}},actions:{async fetchUsers({state:t,commit:s}){try{s("setLoading",!0);const t=await Mt().get("https://jsonplaceholder.typicode.com/users");s("setUsers",t.data)}catch(e){console.log(e)}finally{s("setLoading",!1)}}},namespaced:!0},Bt={state:()=>({posts:[],modalVisible:!1,isEdit:!1,isPostsLoading:!1}),getters:{},mutations:{setPosts(t,s){t.posts=s},addPost:(t,s)=>t.posts.unshift(s),setLoading(t,s){t.isPostsLoading=s},showModal(t){t.modalVisible=!0},hideModal(t){t.modalVisible=!1},showEdit(t){t.isEdit=!0},hideEdit(t){t.isEdit=!1},updatePost:(t,s)=>{const e=t.posts.findIndex((t=>t.id==s.id));e&&t.posts.splice(e,1,s)},deletePost:(t,s)=>t.posts=t.posts.filter((t=>t.id!==s))},actions:{async fetchPosts({commit:t}){try{t("setLoading",!0);const s=await Mt().get("https://jsonplaceholder.typicode.com/posts");t("setPosts",s.data)}catch(s){console.log(s)}finally{t("setLoading",!1)}},async createPost({commit:t},s){const e=await Mt().post(`https://jsonplaceholder.typicode.com/posts?userId=${s.userId}`,s);t("addPost",e.data)},async updatePost({commit:t},s){const e=await Mt().put(`https://jsonplaceholder.typicode.com/posts/${s.id}`,s);t("updatePost",e.data)},async deletePost({commit:t},s){t("deletePost",s),await Mt()["delete"](`https://jsonplaceholder.typicode.com/posts/${s}`)}},namespaced:!0},Tt={state:()=>({images:[],isImagesLoading:!1}),getters:{},mutations:{setImages(t,s){t.images=s},setLoading(t,s){t.isImagesLoading=s}},actions:{async fetchImages({commit:t},s=1,e=5){try{t("setLoading",!0);const i=await Mt().get(`https://jsonplaceholder.typicode.com/albums/${s}/photos?_limit=${e}`);t("setImages",i.data)}catch(i){console.log(i)}finally{t("setLoading",!1)}}},namespaced:!0},zt={state:()=>({albums:[],isAlbumsLoading:!1,albumsId:[]}),getters:{},mutations:{setAlbums(t,s){t.albums=s},setLoading(t,s){t.isAlbumsLoading=s}},actions:{async fetchAlbums({commit:t}){try{t("setLoading",!0);const s=await Mt().get("https://jsonplaceholder.typicode.com/albums");t("setAlbums",s.data)}catch(s){console.log(s)}finally{t("setLoading",!1)}}},namespaced:!0};i.ZP.use(m.ZP);var Nt=new m.ZP.Store({modules:{user:St,post:Bt,image:Tt,album:zt}});i.ZP.use(Et()),i.ZP.config.productionTip=!1;const Rt=new i.ZP({router:jt,store:Nt,render:t=>t(u)});Rt.$mount("#app")},6802:function(t,s,e){t.exports=e.p+"img/avatar.48f0bb9b.svg"},5860:function(t,s,e){t.exports=e.p+"img/close.5525a9ca.svg"},8044:function(t,s,e){t.exports=e.p+"img/edit.83cd3828.svg"},9916:function(t,s,e){t.exports=e.p+"img/trash.a15f729a.svg"}},s={};function e(i){var o=s[i];if(void 0!==o)return o.exports;var a=s[i]={exports:{}};return t[i](a,a.exports,e),a.exports}e.m=t,function(){var t=[];e.O=function(s,i,o,a){if(!i){var n=1/0;for(c=0;c<t.length;c++){i=t[c][0],o=t[c][1],a=t[c][2];for(var r=!0,l=0;l<i.length;l++)(!1&a||n>=a)&&Object.keys(e.O).every((function(t){return e.O[t](i[l])}))?i.splice(l--,1):(r=!1,a<n&&(n=a));if(r){t.splice(c--,1);var u=o();void 0!==u&&(s=u)}}return s}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[i,o,a]}}(),function(){e.n=function(t){var s=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(s,{a:s}),s}}(),function(){e.d=function(t,s){for(var i in s)e.o(s,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:s[i]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)}}(),function(){e.p="/UserList-Vue-2-Rest/"}(),function(){var t={143:0};e.O.j=function(s){return 0===t[s]};var s=function(s,i){var o,a,n=i[0],r=i[1],l=i[2],u=0;if(n.some((function(s){return 0!==t[s]}))){for(o in r)e.o(r,o)&&(e.m[o]=r[o]);if(l)var c=l(e)}for(s&&s(i);u<n.length;u++)a=n[u],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(c)},i=self["webpackChunkusers"]=self["webpackChunkusers"]||[];i.forEach(s.bind(null,0)),i.push=s.bind(null,i.push.bind(i))}();var i=e.O(void 0,[998],(function(){return e(3874)}));i=e.O(i)})();
//# sourceMappingURL=app.cab48381.js.map